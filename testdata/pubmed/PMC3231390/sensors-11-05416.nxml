<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD v1.0 20120330//EN" "JATS-archivearticle1.dtd">
<article xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:mml="http://www.w3.org/1998/Math/MathML" article-type="research-article"><?properties open_access?><front><journal-meta><journal-id journal-id-type="nlm-ta">Sensors (Basel)</journal-id><journal-title-group><journal-title>Sensors (Basel, Switzerland)</journal-title></journal-title-group><issn pub-type="epub">1424-8220</issn><publisher><publisher-name>Molecular Diversity Preservation International (MDPI)</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="pmid">22163907</article-id><article-id pub-id-type="pmc">3231390</article-id><article-id pub-id-type="doi">10.3390/s110505416</article-id><article-id pub-id-type="publisher-id">sensors-11-05416</article-id><article-categories><subj-group subj-group-type="heading"><subject>Article</subject></subj-group></article-categories><title-group><article-title>Infrared Sensor System for Mobile-Robot Positioning in Intelligent Spaces</article-title></title-group><contrib-group><contrib contrib-type="author"><name><surname>Gorostiza</surname><given-names>Ernesto Mart&#x000ed;n</given-names></name><xref ref-type="corresp" rid="c1-sensors-11-05416"><sup>*</sup></xref></contrib><contrib contrib-type="author"><name><surname>Galilea</surname><given-names>Jos&#x000e9; Luis L&#x000e1;zaro</given-names></name></contrib><contrib contrib-type="author"><name><surname>Meca</surname><given-names>Franciso Javier Meca</given-names></name></contrib><contrib contrib-type="author"><name><surname>Monz&#x000fa;</surname><given-names>David Salido</given-names></name></contrib><contrib contrib-type="author"><name><surname>Zapata</surname><given-names>Felipe Espinosa</given-names></name></contrib><contrib contrib-type="author"><name><surname>Puerto</surname><given-names>Luis Pallar&#x000e9;s</given-names></name></contrib><aff id="af1-sensors-11-05416">Department of Electronics, University of Alcal&#x000e1;, Alcal&#x000e1; de Henares, Madrid, 28801, Spain; E-Mails: <email>lazaro@depeca.uah.es</email> (J.L.L.); <email>meca@depeca.uah.es</email> (F.J.M.M.); <email>david.salido@depeca.uah.es</email> (D.S.M.); <email>felipe@depeca.uah.es</email> (F.E.Z.); <email>luis.pallares@depeca.uah.es</email> (L.P.P.)</aff></contrib-group><author-notes><corresp id="c1-sensors-11-05416"><label>*</label>Author to whom correspondence should be addressed; E-Mail: <email>ernesto@depeca.uah.es</email>; Tel.: +34-91-885-65-77; Fax: +34-91-885-65-91.</corresp></author-notes><pub-date pub-type="collection"><year>2011</year></pub-date><pub-date pub-type="epub"><day>18</day><month>5</month><year>2011</year></pub-date><volume>11</volume><issue>5</issue><fpage>5416</fpage><lpage>5438</lpage><history><date date-type="received"><day>15</day><month>3</month><year>2011</year></date><date date-type="rev-recd"><day>14</day><month>5</month><year>2011</year></date><date date-type="accepted"><day>16</day><month>5</month><year>2011</year></date></history><permissions><copyright-statement>&#x000a9; 2011 by the authors; licensee MDPI, Basel, Switzerland.</copyright-statement><copyright-year>2011</copyright-year><license><license-p><!--CREATIVE COMMONS-->This article is an open access article distributed under the terms and conditions of the Creative Commons Attribution license (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/3.0/">http://creativecommons.org/licenses/by/3.0/</ext-link>).</license-p></license></permissions><abstract><p>The aim of this work was to position a Mobile Robot in an Intelligent Space, and this paper presents a sensorial system for measuring differential phase-shifts in a sinusoidally modulated infrared signal transmitted from the robot. Differential distances were obtained from these phase-shifts, and the position of the robot was estimated by hyperbolic trilateration. Due to the extremely severe trade-off between <italic>SNR</italic>, angle (coverage) and real-time response, a very accurate design and device selection was required to achieve good precision with wide coverage and acceptable robot speed. An <italic>I/Q</italic> demodulator was used to measure phases with one-stage synchronous demodulation to <italic>DC</italic>. A complete set of results from real measurements, both for distance and position estimations, is provided to demonstrate the validity of the system proposed, comparing it with other similar indoor positioning systems.</p></abstract><kwd-group><kwd>infrared position measurement</kwd><kwd>phase measurement</kwd><kwd>robots</kwd><kwd>sensors</kwd></kwd-group></article-meta></front><body><sec><label>1.</label><title>Introduction</title><p>An awareness of the context of this research, Mobile Robotics in Intelligent Spaces [<xref ref-type="bibr" rid="b1-sensors-11-05416">1</xref>], is extremely important in order to appreciate the special requirements of this sensorial system. Although one might be tempted to compare this system with a conventional commercial infrared (<italic>IR)</italic> telemeter, the requirements differ enormously, as will be explained at the end of the introduction. Other concepts similar to Intelligent Space (<italic>IS</italic>) are emerging nowadays, and whilst their names (Pervasive Computing, Ambient Intelligence, Context-Aware Spaces, <italic>etc.</italic>) might be different, they all share the same philosophy: the environment (the Space) has the capacity to receive information, process it, take decisions and act on itself. The environment contains most of the complexity of the system, including sensors and networks, and most of the intelligence. All the aforementioned systems are human-centred, conceived to satisfy human needs in the environment, and generally employ cameras as the sensors, though some other types of sensor may also sometimes be used as a complementary source of information. Hashimoto proposed in 1999 the notion of Intelligent Space [<xref ref-type="bibr" rid="b2-sensors-11-05416">2</xref>], in which intelligence is distributed within a defined space [<xref ref-type="bibr" rid="b3-sensors-11-05416">3</xref>], where humans and robots share this (human-centred) space, and a sensorial system mainly based on cameras is used. Other, similar spaces currently exist, although not specifically termed Intelligent Spaces, with a human-centred design approach and again using cameras as the sensors. Given the context explained so far, the requirements for a local positioning system (<italic>LPS</italic>) are: (a) the robot must be as simple as possible, and this affects all the on-board electronics; and (b) the sensors placed in the environment must be simple and modular, in order to be easily scalable, easy to maintain and low cost, as the space will be provided with a high number of these elements. With regard to the sensorial system, its technical features must meet the following requirements: (1) acceptable precision; (2) coverage, that is, the emitter and receivers must have angles which are wide enough to enable them to see each other from different points within a reasonably large locating cell; and (3) real-time performance. The position of a mobile robot in an <italic>IS</italic> is detected by the Space itself, and several approaches have been proposed as local positioning systems (<italic>LPS</italic>) which are intended to work as a kind of indoor <italic>GPS</italic> [<xref ref-type="bibr" rid="b4-sensors-11-05416">4</xref>], since <italic>GPS</italic> does not work properly indoors [<xref ref-type="bibr" rid="b5-sensors-11-05416">5</xref>]. In <italic>LPSs</italic>, non-camera sensors are mainly based on ultrasound [<xref ref-type="bibr" rid="b6-sensors-11-05416">6</xref>,<xref ref-type="bibr" rid="b7-sensors-11-05416">7</xref>] and <italic>RF</italic> [<xref ref-type="bibr" rid="b8-sensors-11-05416">8</xref>]. Very recent solutions have made use of existing <italic>RF</italic> wireless infrastructures such as Ultrawideband (<italic>UWB</italic>) or Radio Frequency Identification (<italic>RFID</italic>), or even the camera of a phone [<xref ref-type="bibr" rid="b9-sensors-11-05416">9</xref>]. They typically work with signal-intensity levels [<xref ref-type="bibr" rid="b10-sensors-11-05416">10</xref>] and currently have a precision range of around one meter [<xref ref-type="bibr" rid="b4-sensors-11-05416">4</xref>,<xref ref-type="bibr" rid="b11-sensors-11-05416">11</xref>]. The position can be obtained by using angle measurements (triangulation) [<xref ref-type="bibr" rid="b12-sensors-11-05416">12</xref>] or distance measurements (trilateration) to fixed reference points placed in the environment. In the former case, although the position is relatively easy to solve it produces high error over long distances compared to the latter solution. In hyperbolic trilateration, the differences in distance to the reference points are obtained [<xref ref-type="bibr" rid="b13-sensors-11-05416">13</xref>] rather than the direct distances to those points, so that all common offset-errors, including uncertainty in transmission-detection synchronism, are removed.</p><p>For trilateration, either distances or their differences must be obtained, and this can be achieved by measuring time of flight (<italic>TOF</italic>), or differential <italic>TOF&#x02019;s</italic> [<xref ref-type="bibr" rid="b14-sensors-11-05416">14</xref>]. Although time of flight is suitable for ultrasound (<italic>US</italic>), it is still not widely used in the case of <italic>IR</italic>, as a precision of picoseconds in time measurement is required in order to achieve a distance precision of 1 cm or below. Nevertheless, interesting studies reporting ps-<italic>TOF</italic> measurements for telemetry have been published in recent years [<xref ref-type="bibr" rid="b15-sensors-11-05416">15</xref>,<xref ref-type="bibr" rid="b16-sensors-11-05416">16</xref>]. As proposed in this paper, one alternative is to measure phase-shifts in order to obtain the distances to be used for positioning, employing an In-phase/Quadrature (<italic>I/Q</italic>) demodulating structure. Although the same structure is used in [<xref ref-type="bibr" rid="b17-sensors-11-05416">17</xref>], this was completely digital and not aimed at <italic>LPS</italic> applications but rather for telemetry purposes. Furthermore, interesting undersampling techniques were used, and a 2-wavelength approach proposed, in [<xref ref-type="bibr" rid="b18-sensors-11-05416">18</xref>]. As regards <italic>IR</italic> locating systems, most of them are based on cameras receiving signals from beacons, as in [<xref ref-type="bibr" rid="b19-sensors-11-05416">19</xref>], or on a laser device [<xref ref-type="bibr" rid="b20-sensors-11-05416">20</xref>], as in the <italic>iGPS</italic> discussed in [<xref ref-type="bibr" rid="b4-sensors-11-05416">4</xref>]; however, in this case the system requires some kind of rotating device, rendering it more complicated and expensive. The use of <italic>IR</italic> may be of interest as many problems encountered with <italic>US</italic> are due to multipath and multi-echo interferences, and <italic>RF</italic> may also experience interferences between different rooms. For a distance-measurement precision of 1 cm, a very high precision in phase measurement is necessary (0.05&#x000b0;), considering a modulation frequency of 4 MHz; commercial <italic>IR</italic>-telemeters are able to provide this level or more of precision. It should be noted that a telemeter uses synchronism between emitted and received signals to carry out a directional measurement in which optics are used to focus the reflected power from the target on the detector, thus working with a high <italic>SNR</italic>. However, in an <italic>LPS</italic> there is a further requirement, as previously mentioned&#x02014;Coverage&#x02014;which implies that the emitter needs a wider emitting pattern so that three or four detectors (depending on its position) can see it simultaneously. However, the wider the emitting pattern is, the less power per solid-angle unit is obtained, hence less <italic>SNR</italic>, and consequently worse precision. Moreover, telemeters offer a precision range that improves as the measuring-time increases (longer integration-time), reaching a few seconds, but in this application there are real-time constraints that preclude such an increase in time. Therefore, it is more reasonable to compare the performance of this system with other <italic>LPSs</italic>, even though implemented with different technologies, rather than with a telemeter. A comparison between different <italic>LPSs</italic> is shown in the results section.</p><p>The aim of the study presented here was to develop an <italic>LPS IR</italic> sensorial system for implementation in an Intelligent Space, meeting the five conditions mentioned above and with a competitive level of precision. The design consisted of one emitter and a single photodetector for each receiver. Other, more complex solutions were discarded for all the reasons explained above. Developing solutions for <italic>ISs</italic> with different sensors is of great interest as their information can be merged. The system proposed represents a novel approach developed to fulfill the considerations discussed above.</p></sec><sec><label>2.</label><title>Background</title><p>Several technological approaches to <italic>LPS</italic> systems are currently being developed in research fields related to robotics and intelligent spaces. These include rather different structures, both for position estimation and the measuring system, normally involving some kind of distance or differential distance estimation. The method used to measure these distances and to calculate a position from them characterizes and defines a specific <italic>LPS</italic>. Ultrasound-based systems, on which the Department of Electronics at the University of Alcal&#x000e1; has been working for several years [<xref ref-type="bibr" rid="b21-sensors-11-05416">21</xref>,<xref ref-type="bibr" rid="b22-sensors-11-05416">22</xref>], can be considered the most similar to the system proposed in this paper, in terms of the use of differential distances (in this case, calculated from <italic>TOF</italic> measurements) to fixed reference points formed by receivers, and position estimation by spherical or hyperbolic trilateration.</p><p>Most current positioning systems are based on a solid measuring technology, often using high performance commercial transducers to form their sensorial system, and focusing research efforts on the development of positioning algorithms and techniques. In this case, most of the complexity of the proposed <italic>LPS</italic> centers on the sensorial system used to measure differential distances, based on an optical phase-shift measurement through a non-guided direct link, since a sensor that would be capable of providing the <italic>SNR</italic>, coverage and time stability needed is not currently commercially available. Thus, it was necessary to develop the entire sensorial system, in order to obtain a high performance <italic>IR</italic> sensor that would meet the given specifications, and the design and physical implementation of this was made possible thanks to this department&#x02019;s background in the related fields of radiometry, optoelectronics and applied optics.</p></sec><sec><label>3.</label><title>The LPS Sensorial System</title><p>The concept of an <italic>IR-LPS</italic> based on differential phase-shifts, together with other aspects of the system, have already been discussed in [<xref ref-type="bibr" rid="b23-sensors-11-05416">23</xref>]. In [<xref ref-type="bibr" rid="b24-sensors-11-05416">24</xref>], guidelines for the measuring system were addressed, where the term <italic>DPOA</italic> (differential phase-shift-of-arrival), analogous to the classical term <italic>DTOA</italic> (differential time-of-arrival) in <italic>TOF</italic>-based systems, was defined.</p><p>The main idea of the system is to locate a robot by measuring differential distances from it to determined reference points, which are, in turn, the detectors. Differential distances are directly calculated from the measured phase-shifts and introduced into a hyperbolic trilateration (<italic>HT</italic>) non-linear equation system, to obtain the robot location [<xref ref-type="bibr" rid="b25-sensors-11-05416">25</xref>]; an explanation is given in [<xref ref-type="bibr" rid="b26-sensors-11-05416">26</xref>] of the basics of triangulation equations and a linearized formulation applied to wireless <italic>RF</italic>-location. In <italic>HT</italic>, every measurement defines a hyperboloid which is the loci of possible locations for the robot. The solution is found with several differential measurements so that, ideally, the robot position would be located in the intersection of hyperboloids. In practice, the <italic>HT</italic>-equation system is solved by a non-linear-least-squares estimation plus a further numerical solution using the Gauss-Newton iterative method. This is a commonly accepted strategy to solve the aforementioned <italic>HT</italic> nonlinear system [<xref ref-type="bibr" rid="b27-sensors-11-05416">27</xref>]. The precision of a particular location can be characterized by two standard deviations, &#x003c3;<sub>1</sub> and &#x003c3;<sub>2</sub>, corresponding to the major and minor axis of an ellipse of around 95% location-probability (2&#x003c3;<sub>1</sub> and 2&#x003c3;<sub>2</sub>) [<xref ref-type="bibr" rid="b28-sensors-11-05416">28</xref>].</p><p>The main difficulty in developing the described system lies in the sensors, since working with a frequency above 1 MHz strictly limited the maximum working power of the photonic devices. It was therefore necessary to develop a sensor capable of providing, from very low received optical power, a sufficiently high <italic>SNR</italic> signal as to measure distances that lead to a positioning precision under 10 cm.</p><p>A schematic representation of the entire system is given in <xref ref-type="fig" rid="f1-sensors-11-05416">Figure 1</xref>. <xref ref-type="fig" rid="f1-sensors-11-05416">Figure 1(a)</xref> represents the emitter installed on the mobile robot and the sensors covering the positioning area; <xref ref-type="fig" rid="f1-sensors-11-05416">Figure 1(b)</xref> represents the signal treatment block, containing the reference signal recovery and <italic>I/Q</italic> demodulation stages. Finally; <xref ref-type="fig" rid="f1-sensors-11-05416">Figure 1(c)</xref> depicts the acquisition (<italic>ACQ</italic>) and digital processing stages undertaken on a <italic>PC</italic>, where distances are calculated and the resulting non-linear system is solved to obtain the estimated position. The <italic>Z</italic> coordinate, corresponding to the height of the emitter boarded on the robot, is known beforehand and not provided by the positioning system; the subscript 0 is used to point this out.</p><p>An intensity modulated <italic>IR</italic> signal is sent from a high power emitter installed on the robot and is received by five sensors, <italic>RP</italic><italic><sub>1</sub></italic> to <italic>RP</italic><italic><sub>5</sub></italic>, placed in the center and at every corner of the upper plane of a cubic cell, as shown in <xref ref-type="fig" rid="f2-sensors-11-05416">Figure 2</xref>. The highest amplitude signal received is sent to a <italic>PLL</italic> to generate a reference signal, the phase shift of which, with respect to each of the other received signals, is measured. This is carried out by <italic>I/Q</italic> demodulators whose outputs, digitalized into a <italic>PC</italic>, comprise the data used for position estimation by <italic>HT</italic>.</p><p>The frequency used for the <italic>IR</italic> modulation was 4 MHz, chosen as a trade-off between sensitivity and correct component behavior. As regards precision in the phase-shift measurement, the higher the frequency, the higher the precision for the corresponding distance, but at the same time, some devices may not operate properly. This is related to the natural trade-off between power and working frequency, mainly affecting the emitter circuitry, being the one working with the highest power levels of the system. To illustrate this, note that the current source driving the <italic>IRED</italic> should provide an rms current over 0.5 A modulated at 4 MHz, which is a rather high power-frequency relation for any up-to-date device bandwidth.</p></sec><sec><label>4.</label><title>LPS-Parameters Trade-Off</title><p>As previously explained, a <italic>LPS</italic> must meet the three main requirements (precision, coverage and speed) satisfactorily in order to provide an adequate solution for mobile robotics, that is, positioning a robot within an acceptable error threshold, over a sufficiently large area and providing the position information with sufficient speed to track a robot moving at certain speed. These are, by definition, competing parameters, which translates into a strong trade-off between device selection and design of the different stages of the <italic>LPS</italic>. <xref ref-type="fig" rid="f3-sensors-11-05416">Figure 3</xref> shows these interrelationships, together with the corresponding parameter at the electronic-level design of the system. As can be seen, precision is directly related to achieving effective <italic>SNR</italic> levels in the signals from which distance information will be extracted, coverage is directly dependant on the working angles of both emitting and receiving devices, and speed is defined by response time of devices and electronics as well as by position estimation processing time.</p><p>Achieving higher <italic>SNR</italic> levels usually involves two different approaches; reducing noise in the electronics by means of adequate design and device selection, and improving the efficiency of the optical link in order to obtain higher signal levels. From the point of view of the emitter, the second approach implies concentrating emission over a smaller solid-angle, reducing the coverage accordingly, and, from the point of view of the receiver, widening the reception area, which can be achieved either by using a larger device, increasing the shunt capacitance of the photodiode and thus raising its response time, or by using an optical system, which, considering the device sensitive area, reduces the reception angle and consequently, the coverage.</p><p>On the other hand, in addition to requiring faster devices, raising system speed is strongly related to the defined bandwidth after demodulation, as well as to the processing time, since in general, a slower system allows narrower bandwidth and hence higher <italic>SNR</italic>, in addition to longer integration time to compensate dispersion.</p><p>The relationships between these three main parameters, from a high-level standpoint, are reflected both in the device selection and circuit design of every stage of the system. These low-level trade-offs will be explained below.</p><sec><label>4.1.</label><title>Emission</title><p>Given the specific conditions of the <italic>LPS</italic>, the emitter should provide the best possible performance regarding competing parameters, namely, emitted power per solid angle unit, angular width and maximum working frequency. Whilst very high performance devices are available on the market, generally, when one of their features is outstanding, and the rest are strongly penalized. This might be of little significance, depending on the application; for example, the most accurate systems in telemetry are based on <italic>LASER</italic> emitters which can concentrate all the radiation in a small area due to measuring in a straight line and having a relatively high response time. In the case of the <italic>LPS</italic>, it was absolutely necessary for the chosen device to be sufficiently good at the three aforementioned parameters, which implies a high trade-off between them.</p><p>As is usual in electronic devices, there is an inverse relationship between power and response time, narrowing selection of the emitter device to those that can operate above 4 MHz. On the other hand, to maximize system coverage, the emitted optical power should be spread over the largest possible solid angle; there is no direct dependence between emitted power and angular width in the device itself, but this coverage condition prevents the use of any optical system to concentrate the emitted power over a smaller solid angle, which would increase the power reaching a specific detector but decrease the number of detectors simultaneously seeing the emitter. Minimum acceptable device performance for the proposed system would be over 1 W emitted power with at least a 60&#x000b0; half-angle; features which are not readily available in current fast response devices.</p></sec><sec><label>4.2.</label><title>Reception</title><p>The sensor receiving the signal coming from the <italic>IR</italic> transmitter is composed of a receiver device and signal conditioning electronics. As in the case of the emitter, selection of the receiver device must be carried out considering the trade-off between conflicting parameters: active area, working frequency and field of view (<italic>FOV</italic>). There is a strong trade-off between active area and maximum working frequency in typical <italic>IR</italic> detector devices such as photodiodes and phototransistors; this is due to junction capacitances increasing as active area increases, creating a low-pass filtering effect that limits the working frequency.</p><p>Another problem regarding the use of optical systems also emerges in receiver devices; whilst it is possible to virtually widen the active area of the detector by means of an optical system, this reduces the viewing angle accordingly, establishing a new trade-off between received power and <italic>FOV</italic>. The final design did not employ an optical system because the rise in optical gain would have implied an unacceptable narrowing of the viewing angle for the current detector area, and higher mechanical complexity of the sensor, with the consequent maintenance problems; note that an <italic>IS</italic> is formed by a high number of sensors so the probability of a failure is closely related to their complexity.</p><p>All the devices forming an <italic>LPS</italic> constitute key factors in its final performance; nevertheless, the receiving stage, which may at first seem simple since it comprises a classical design formed by an <italic>I/V</italic> conversion stage plus amplifying and filtering, is of extreme importance. This is the noisiest stage in the whole system; the final <italic>SNR</italic> of the system depends directly on the noise at this stage and the bandwidth of the signal-treatment block output filter. Therefore, a design focused on reducing noise addition and component value dependence was required, and special care was taken when selecting both active and passive devices integrating the receivers.</p><p>As is usual in electronic measuring systems, it was necessary during the design of the conditioning stage to pay particular attention to minimizing noise addition to the received signal, and this was especially complex in the design proposed here due to the very high gain (some tens of k&#x003a9;) needed in order for the transimpedance amplifier to produce an adequate voltage level from the generated photocurrent to make the most of the dynamic range of subsequent stages. On the other hand, equal importance had to be given to stability, specifically focusing on minimizing propagation time uncertainty due to component value variations; this condition implied a sensitivity study that added constraints to the filtering stages, causing a trade-off between stability and <italic>SNR</italic> improvement in the conditioning stage.</p></sec><sec><label>4.3.</label><title>Signal Treatment</title><p>The proposed signal treatment block is basically composed of an <italic>I/Q</italic> demodulator. Each received signal was multiplied by quadrature references of its frequency, recovered by means of a PLL, shifting the received information down to two <italic>DC</italic> signals in sine and cosine form where phase could be extracted. The demodulator outputs were low-pass filtered before digitization to eliminate the high frequency components resulting from the products and to reduce noise bandwidth. The main trade-off related to this stage lay in the low-pass filtering of the DC components, which critically defined the final relationship between precision and mobile robot maximum speed. Strong filtering will highly reduce dispersion, hence improving precision in static measurements, but the more restrictive the filtering, the higher the error will be when tracking varying signals when the robot moves.</p><p>Although the demodulator itself did not introduce a strong limitation on any of the three main parameters under study, it is important to note that correct modeling of its behavior, and the subsequent fixed errors correction process in the estimation [<xref ref-type="bibr" rid="b29-sensors-11-05416">29</xref>], were absolutely necessary to achieve acceptable accuracy in the final position.</p></sec></sec><sec><label>5.</label><title>Proposed Solutions</title><p>Having now explained and specified the main parameter trade-offs for the different system stages, in this section the criteria for the device selection and the electronic design of every subsystem are discussed.</p><sec><label>5.1.</label><title>Emitter</title><p>The device selected for the system was the <italic>IRED SFH4231</italic>, manufactured by Osram, which maintains an excellent balance between all the parameters; in fact, it is one of the best devices currently available on the market for the required application. It has high optical power, a wide angle and low response time, and represents an extremely up-to-date and suitable choice as can be seen in <xref ref-type="table" rid="t1-sensors-11-05416">Table 1</xref>, where the main features of some <italic>IREDs</italic> considered for the prosed application are compared, together with a qualitative evaluation of their main advantages and disadvantages. These features are: maximum emitted power (P<sub>max</sub>), maximum emitted radiant intensity (I<sub>max</sub>), 3dB-bandwidth (f<sub>max</sub>), half-power angle (<bold>&#x003b8;<sub>1/2</sub></bold>), peak wavelength (<bold>&#x003bb;<sub>p</sub></bold>), maximum direct current in continuous and pulsed emission (I<sub>Dmax</sub>).</p><p><xref ref-type="fig" rid="f4-sensors-11-05416">Figure 4</xref> shows the normalized radiation-pattern of the <italic>IRED</italic> obtained in our tests. As can be seen, its half-power emitting angle was around &#x000b1;60&#x000b0;, which matches the manufacturer specifications. This is a reasonably satisfactory emitting angle to work with.</p><p>The bias circuit of the emitter is shown in <xref ref-type="fig" rid="f5-sensors-11-05416">Figure 5</xref>. A voltage controlled crystal oscillator (<italic>VCXO</italic>) generates a 4 MHz tone; this signal is attenuated to an adequate level to make the most of the led&#x02019;s dynamic range and band-pass filtered. A <italic>DC</italic> component, generated from a voltage reference, is added to the resulting sine signal to drive a voltage controlled current source (<italic>VCCS</italic>) formed by an n-channel power <italic>MOSFET</italic> transistor (PD55015) and a low-noise fast <italic>FET</italic> operational amplifier (<italic>OA</italic>) (AD8065). This current supplies the <italic>IRED</italic> with the adequate bias level. With this circuit, the <italic>LED</italic> is driven by a pure sine-signal, at a current bias point of 475 mA and a peak current value of 900 mA. Assuming a linear emissivity of 0.5 W/A in the current range used for polarization, and a negligible response time for the working frequency (both data obtained from the device datasheet), the optical emission results a sinusoidal-intensity-modulated signal with 400 mW peak to peak power value.</p></sec><sec><label>5.2.</label><title>Receiver</title><p>The device chosen for the application was the photodiode <italic>SD100-11-31-221</italic> manufactured by <italic>API</italic>. <xref ref-type="fig" rid="f6-sensors-11-05416">Figure 6</xref> shows the normalized reception-pattern of the photodiode obtained in the developed tests. A high responsivity level of up to &#x000b1;60&#x000b0; can be observed, as specified in the device documentation.</p><p>The receiving circuit is shown in <xref ref-type="fig" rid="f7-sensors-11-05416">Figure 7</xref>. As can be seen, it is formed by the receiving photodiode, an <italic>I/V</italic> conversion stage carried out with an <italic>OA</italic>, an amplifying stage divided into two sub-stages due to bandwidth requirements, and a passive, wideband, second order band-pass filter.</p><p>The <italic>OA</italic> chosen provided ultra-low offset current, offset voltage and noise voltage. The transimpedance resistor was very low tolerance and the system pole was placed using the <italic>R</italic> and <italic>C</italic> parameters at exactly 4 MHz in order to attain maximum stability in propagation time. The <italic>SNR</italic> at the output of the <italic>I/V</italic> conversion stage was maximized, but constrained to the mentioned design condition of maximum time-delay stability against any changes in transimpedance feedback passive components (resistance and shunt capacitor). To obtain the noise transfer function (<italic>NTF</italic>), the equivalent circuit to the one in <xref ref-type="fig" rid="f7-sensors-11-05416">Figure 7</xref> was used, whose schematic is shown in <xref ref-type="fig" rid="f8-sensors-11-05416">Figure 8</xref>.</p><p>In this circuit, <italic>I</italic><italic><sub>D</sub></italic> is the photodiode current and <italic>C</italic><italic><sub>D</sub></italic> is its shunt capacitance; the effect of the resistances in the diode model was negligible. The capacitance C<sub>T</sub> is the equivalent capacitance formed by <italic>C</italic><italic><sub>D</sub></italic> and <italic>OA</italic> input capacitance, C<sub>inOA</sub>. The total equivalent noise-voltage referred to the input is represented by <italic>V</italic><italic><sub>nAO</sub></italic>. The <italic>I/V</italic> conversion impedance <italic>Z</italic><italic><sub>F</sub></italic> is formed by <italic>C</italic><italic><sub>F</sub></italic> and <italic>R</italic><italic><sub>F</sub></italic>, the latter tuning the cut-off frequency of the circuit. Z<sub>ni</sub> compensates for the effect of bias currents through R<sub>F</sub>, and C<sub>ni</sub> is set to reject the voltage noise generated by the <italic>OA</italic> input noise current through R<sub>ni</sub>. Thus, given the frequency-dependant transimpedance transfer function of the circuit in <xref ref-type="fig" rid="f8-sensors-11-05416">Figure 8</xref>, <italic>Z(jw)</italic>, the output voltage signal, <italic>V</italic><italic><sub>o</sub></italic>, in the frequency domain, is:
<disp-formula id="FD1"><label>(1)</label><mml:math id="M1"><mml:msub><mml:mi>v</mml:mi><mml:mi>o</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>=</mml:mo><mml:msub><mml:mi>i</mml:mi><mml:mi>D</mml:mi></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:mi>Z</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>=</mml:mo><mml:msub><mml:mi>i</mml:mi><mml:mi>D</mml:mi></mml:msub><mml:mo>&#x000b7;</mml:mo><mml:msub><mml:mi>A</mml:mi><mml:mi>o</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:msub><mml:mi>A</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>e</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mfrac></mml:math></disp-formula>with:
<disp-formula id="FD2"><label>(2)</label><mml:math id="M2"><mml:msub><mml:mi>A</mml:mi><mml:mi>o</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>A</mml:mi><mml:mrow><mml:mi>v</mml:mi><mml:mi>o</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:mi>j</mml:mi><mml:mrow><mml:mi>w</mml:mi><mml:mo stretchy="true">/</mml:mo><mml:mrow><mml:msub><mml:mi>w</mml:mi><mml:mrow><mml:mi>c</mml:mi><mml:mi>H</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mrow></mml:mrow></mml:mfrac><mml:mo>;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:msub><mml:mi>A</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>A</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mfrac><mml:mo>;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>e</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>T</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo stretchy="false">[</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>A</mml:mi><mml:mi>o</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:mi>j</mml:mi><mml:mi>w</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo stretchy="false">]</mml:mo><mml:mo>;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>T</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>A</mml:mi><mml:mi>O</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>D</mml:mi></mml:msub></mml:math></disp-formula>where <italic>A</italic><italic><sub>o</sub></italic><italic>(jw)</italic> is the open-loop operational-amplifier voltage-gain, with <italic>DC</italic> gain <italic>A</italic><italic><sub>vo</sub></italic>, and cutoff-frequency <italic>w</italic><italic><sub>cH</sub></italic>. <italic>C</italic><italic><sub>T</sub></italic> is the total input shunt capacitance <italic>C</italic><italic><sub>inAo</sub></italic> and <italic>C</italic><italic><sub>D</sub></italic>. The non-ideal effects modified the ideal transimpedance response, but the upper cutoff-frequency remained tuned by the transimpedance <italic>Z</italic><italic><sub>F</sub></italic>. On the other hand, the noise power related to the output <italic>N</italic><italic><sub>RTO</sub></italic> was obtained from the circuit in <xref ref-type="fig" rid="f8-sensors-11-05416">Figure 8</xref>. <italic>N</italic><italic><sub>RTO</sub></italic> was calculated considering both voltage (V<sub>nOA</sub>) and current noise (i<sub>nOA</sub>) of the <italic>OA</italic>, thermal noise of <italic>R</italic><italic><sub>F</sub></italic> (<italic>4K</italic><italic><sub>B</sub></italic><italic>T/R</italic><italic><sub>F</sub></italic>, where KB is the Boltzmann constant and <italic>T</italic> the temperature in <italic>K</italic>), and current noise of the photodiode (<italic>I</italic><italic><sub>DN</sub></italic><italic>)</italic>, all factors weighted by the corresponding transfer function effect:
<disp-formula id="FD3"><label>(3)</label><mml:math id="M3"><mml:msub><mml:mi>N</mml:mi><mml:mrow><mml:mn>0</mml:mn><mml:mi>i</mml:mi><mml:mo>,</mml:mo><mml:mi>f</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:munder><mml:mo>&#x02211;</mml:mo><mml:mi>p</mml:mi></mml:munder><mml:mrow><mml:msubsup><mml:mi>n</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>p</mml:mi></mml:mrow><mml:mn>2</mml:mn></mml:msubsup></mml:mrow><mml:mo>=</mml:mo><mml:msup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>V</mml:mi><mml:mrow><mml:mi>n</mml:mi><mml:mi>A</mml:mi><mml:mi>O</mml:mi></mml:mrow></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup><mml:mfrac><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>2</mml:mn><mml:mi>&#x003c0;</mml:mi><mml:mi>f</mml:mi><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>T</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>2</mml:mn><mml:mi>&#x003c0;</mml:mi><mml:mi>f</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:mn>4</mml:mn><mml:msub><mml:mi>K</mml:mi><mml:mi>B</mml:mi></mml:msub><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:msubsup><mml:mi>I</mml:mi><mml:mrow><mml:mi>D</mml:mi><mml:mi>N</mml:mi></mml:mrow><mml:mn>2</mml:mn></mml:msubsup><mml:mo>+</mml:mo><mml:msubsup><mml:mi>i</mml:mi><mml:mrow><mml:mi>n</mml:mi><mml:mi>A</mml:mi><mml:mi>O</mml:mi></mml:mrow><mml:mn>2</mml:mn></mml:msubsup></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mfrac><mml:mrow><mml:msubsup><mml:mi>R</mml:mi><mml:mi>F</mml:mi><mml:mn>2</mml:mn></mml:msubsup></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>2</mml:mn><mml:mi>&#x003c0;</mml:mi><mml:mi>f</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:msub><mml:mi>R</mml:mi><mml:mi>F</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow></mml:mfrac></mml:math></disp-formula></p><p>The plot in <xref ref-type="fig" rid="f9-sensors-11-05416">Figure 9</xref> depicts the transimpedance transfer function appearing in (1), the band pass filter and the noise transfer function (<italic>NTF</italic>) defined by (3), for the actual values of the components in the design. As can be seen on the right-side axis, there is a 10<sup>&#x02212;l5</sup> V<sup>2</sup>/Hz noise power-density value at 4 MHz, optimized as explained in previous paragraphs. However, at the point <italic>V</italic><italic><sub>o</sub></italic> in <xref ref-type="fig" rid="f7-sensors-11-05416">Figure 7</xref>, the total noise power resulting from integration in the wide pass-band is much higher than the signal power received from many of the locations in the positioning cell, reaching a &#x02212;20 dB <italic>SNR</italic>, as will be discussed in subsequent sections.</p><p>Note that should any single parameter of any component change, either that of the emitter or of the sensor, both the <italic>NTF</italic> and the signal-<italic>TF</italic> would change. This would cause a change in the final noise-power level, hence in the effective <italic>SNR</italic>, and finally, in the precision of the measurement.</p></sec><sec><label>5.3.</label><title>Non-Guided Link</title><p>The link between transmitter and receiver was a wireless infrared <italic>LOS</italic> (line of sight) link, where the interfering contributions from reflections remain within the desired precision margin. This can be guaranteed by maintaining a dead zone of about 40 cm between the robot and the walls [<xref ref-type="bibr" rid="b29-sensors-11-05416">29</xref>,<xref ref-type="bibr" rid="b30-sensors-11-05416">30</xref>]. The expression for the electrical current rms-value generated at one photodetector [<xref ref-type="bibr" rid="b29-sensors-11-05416">29</xref>] is:
<disp-formula id="FD4"><label>(4)</label><mml:math id="M4"><mml:mtable columnalign="left"><mml:mtr><mml:mtd><mml:msub><mml:mi>I</mml:mi><mml:mrow><mml:mn>0</mml:mn><mml:mi>i</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mi>&#x1d515;</mml:mi><mml:mo>&#x000b7;</mml:mo><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:msub><mml:mi>P</mml:mi><mml:mrow><mml:mi>e</mml:mi><mml:mi>m</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>A</mml:mi><mml:mi>S</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:msubsup><mml:mi>D</mml:mi><mml:mi>i</mml:mi><mml:mn>2</mml:mn></mml:msubsup></mml:mrow></mml:mfrac><mml:mtext>cos</mml:mtext><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mrow><mml:mi>e</mml:mi><mml:mi>i</mml:mi></mml:mrow></mml:msub><mml:mo stretchy="false">)</mml:mo><mml:mtext>cos</mml:mtext><mml:mo stretchy="false">(</mml:mo><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>i</mml:mi></mml:mrow></mml:msub><mml:mo stretchy="false">)</mml:mo><mml:mo>&#x003a0;</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:msub><mml:mi>&#x003b8;</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>i</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mrow><mml:mrow><mml:mi>F</mml:mi><mml:mi>O</mml:mi><mml:mi>V</mml:mi></mml:mrow><mml:mo stretchy="true">/</mml:mo><mml:mn>2</mml:mn></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup><mml:mo>=</mml:mo><mml:mi>&#x1d515;</mml:mi><mml:mo>&#x000b7;</mml:mo><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:msub><mml:mi>P</mml:mi><mml:mrow><mml:mi>e</mml:mi><mml:mi>m</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>A</mml:mi><mml:mi>S</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:msubsup><mml:mi>D</mml:mi><mml:mi>i</mml:mi><mml:mn>2</mml:mn></mml:msubsup></mml:mrow></mml:mfrac><mml:msup><mml:mrow><mml:mtext>cos</mml:mtext></mml:mrow><mml:mn>2</mml:mn></mml:msup><mml:mo stretchy="false">(</mml:mo><mml:mi>&#x003b8;</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>&#x003a0;</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mi>&#x003b8;</mml:mi><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mrow><mml:mrow><mml:mi>F</mml:mi><mml:mi>O</mml:mi><mml:mi>V</mml:mi></mml:mrow><mml:mo stretchy="true">/</mml:mo><mml:mn>2</mml:mn></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mtext mathvariant="italic">where</mml:mtext><mml:mo>&#x02009;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:mo>&#x02009;</mml:mo><mml:mo>&#x003a0;</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mi>&#x003b8;</mml:mi><mml:mi>W</mml:mi></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mo>{</mml:mo><mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mn>1</mml:mn></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mi>i</mml:mi><mml:mi>f</mml:mi><mml:mo>&#x02009;</mml:mo><mml:mi>&#x003b8;</mml:mi><mml:mo>&#x0003c;</mml:mo><mml:mi>W</mml:mi></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mn>0</mml:mn></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mi>i</mml:mi><mml:mi>f</mml:mi><mml:mo>&#x02009;</mml:mo><mml:mi>&#x003b8;</mml:mi><mml:mo>&#x0003e;</mml:mo><mml:mi>W</mml:mi></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></disp-formula>where the optical intensity at each receiver, <italic>I</italic><italic><sub>0i</sub></italic>, is the photodiode current <italic>i</italic><italic><sub>D</sub></italic> appearing in (1). &#x1d515; represents the photodiode responsivity, <italic>P</italic><italic><sub>emx</sub></italic> is the optical power per solid angle emitted in the normal direction, <italic>A</italic><italic><sub>S</sub></italic> is the photodiode sensible area, <italic>D</italic><italic><sub>i</sub></italic> is the Euclidean distance between emitter and receiver and <italic>&#x003b8;</italic><italic><sub>ei</sub></italic> and <italic>&#x003b8;</italic><italic><sub>ri</sub></italic> are the angles of the <italic>LOS</italic> referred to the emitter and receiver normal directions respectively. In the second part of the equation these angles are grouped into <italic>&#x003b8;</italic> because of being equal thanks to the vertical orientation of both emitter and receiver maximum performance directions. Finally &#x003a0;(<italic>&#x003b8;/W</italic>) is a window function modelling the receiver&#x02019;s field of view (<italic>FOV</italic>) mechanical limitation that causes a complete loss of signal from certain reception angle defined by <italic>W</italic>.</p><p>All the elements contributing to the <italic>IR</italic> link, including the emitter, the entire sensor and the wireless <italic>LOS</italic> link have thus far been presented. In <xref ref-type="table" rid="t2-sensors-11-05416">Table 2</xref>, real voltage, noise and <italic>SNR</italic> levels are shown, in order to give an insight into actual working conditions. In the proposed locating cell, the best <italic>SNR</italic>-case was obtained at the minimum distance between emitter and receiver, 2.5 m, and the worst at a distance of 3.5 m. The signal amplitude was that given by the peak value of the module of <italic>v</italic><italic><sub>o</sub></italic><italic>(jw)</italic> in (1) at 4 MHz, and its measured value is shown in the table for the above-mentioned best and worst cases. The noise-power would be the result of integrating the spectral density power given by the <italic>NTF</italic> in all frequencies in the pass-band range, which is equal to the noise variance &#x003c3;<italic><sub>N</sub></italic><sup>2</sup>, computed from the real-time domain measurements.</p><p>In <xref ref-type="table" rid="t2-sensors-11-05416">Table 2</xref>, the results are shown of the tests to obtain signal, noise, and <italic>SNR</italic> levels at the sensor output. Meanwhile, <xref ref-type="fig" rid="f10-sensors-11-05416">Figure 10</xref> depicts the voltage-signals at that point, for the best and worst cases. As can be seen in the table, although the sensor was carefully designed, the <italic>SNR</italic> reached very low levels due to the unfavorable conditions in angle and distance. Note that the angle related to measuring conditions affected both the emitter and receiver, <italic>i.e.</italic>, both devices were working at 45&#x000b0;. The measuring conditions were highly unfavorable, as can also be seen from the signals in <xref ref-type="fig" rid="f10-sensors-11-05416">Figure 10</xref>, and it is only thanks to the careful design of the sensor for optimizing the <italic>SNR</italic>, together with an accurate signal treatment block design, that the information is still usable.</p><p>The first two rows show data corresponding to the previously defined best and worst cases for the current test locating cell. The third row, not corresponding to any position inside this cell, is included to provide an idea of the strong trade-off between coverage and precision.</p><p>The output-signal of every sensor was fed into a signal treatment block, explained in the next section, where the effective <italic>SNR</italic> level will be defined.</p></sec><sec><label>5.4.</label><title>Signal Treatment Block</title><p><xref ref-type="fig" rid="f11-sensors-11-05416">Figure 11</xref> shows the signal treatment block. Each sensor output voltage-signal, <italic>RP</italic>, was sent to an <italic>I/Q</italic> demodulator, together with the signal coming from the reference receiver, <italic>Ref</italic>, recovered by a <italic>PLL</italic>.</p><p>In the proposed application, the function of the <italic>I/Q</italic> demodulator was to extract the phase information from a sinusoidal signal and to output it in two <italic>DC</italic> signals. The reference signal, <italic>Ref_PLL</italic>, was used to generate the in-phase and quadrature signals, <italic>Ref</italic><italic><sub>I</sub></italic> and <italic>Ref</italic><italic><sub>Q</sub></italic> in <xref ref-type="fig" rid="f11-sensors-11-05416">Figure 11</xref>, to be multiplied with the input, <italic>RP</italic>, for <italic>I/Q</italic> demodulation. After low-pass filtering both multiplier outputs, the two resulting <italic>DC</italic> signals, <italic>S</italic><italic><sup>I</sup></italic><italic><sub>DC</sub></italic>, <italic>S</italic><italic><sup>Q</sup></italic><italic><sub>DC</sub></italic>, are:
<disp-formula id="FD5"><label>(5)</label><mml:math id="M5"><mml:mtable columnalign="left"><mml:mtr><mml:mtd><mml:msubsup><mml:mi>S</mml:mi><mml:mrow><mml:mi>D</mml:mi><mml:mi>C</mml:mi></mml:mrow><mml:mi>I</mml:mi></mml:msubsup><mml:mo>=</mml:mo><mml:msub><mml:mi>A</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mo>&#x02009;</mml:mo><mml:mtext>sin</mml:mtext><mml:mo stretchy="false">(</mml:mo><mml:mi>&#x003d5;</mml:mi><mml:mo>+</mml:mo><mml:msubsup><mml:mi>&#x003d5;</mml:mi><mml:mi>c</mml:mi><mml:mi>I</mml:mi></mml:msubsup><mml:mo stretchy="false">)</mml:mo><mml:mo>+</mml:mo><mml:msubsup><mml:mi>n</mml:mi><mml:mi>v</mml:mi><mml:mi>I</mml:mi></mml:msubsup></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:msubsup><mml:mi>S</mml:mi><mml:mrow><mml:mi>D</mml:mi><mml:mi>C</mml:mi></mml:mrow><mml:mi>Q</mml:mi></mml:msubsup><mml:mo>=</mml:mo><mml:msub><mml:mi>A</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mtext>cos</mml:mtext><mml:mo stretchy="false">(</mml:mo><mml:mi>&#x003d5;</mml:mi><mml:mo>+</mml:mo><mml:msubsup><mml:mi>&#x003d5;</mml:mi><mml:mi>c</mml:mi><mml:mi>Q</mml:mi></mml:msubsup><mml:mo stretchy="false">)</mml:mo><mml:mo>+</mml:mo><mml:msubsup><mml:mi>n</mml:mi><mml:mi>v</mml:mi><mml:mi>Q</mml:mi></mml:msubsup></mml:mtd></mml:mtr></mml:mtable></mml:math></disp-formula>where A<sub>0</sub> represents the product of both <italic>RP</italic> and <italic>Ref</italic> plus internal gains of the demodulator, <italic>&#x003d5;</italic> is the phase-shift between <italic>RP</italic> and <italic>Ref</italic> to be measured, 
<inline-formula><mml:math id="M6"><mml:msubsup><mml:mi>&#x003d5;</mml:mi><mml:mi>C</mml:mi><mml:mi>I</mml:mi></mml:msubsup></mml:math></inline-formula> and 
<inline-formula><mml:math id="M7"><mml:msubsup><mml:mi>&#x003d5;</mml:mi><mml:mi>C</mml:mi><mml:mi>Q</mml:mi></mml:msubsup></mml:math></inline-formula> are the fixed phase-errors of the entire system, corrected in the calibration process, and 
<inline-formula><mml:math id="M8"><mml:mrow><mml:mrow><mml:msubsup><mml:mi>n</mml:mi><mml:mi>v</mml:mi><mml:mi>I</mml:mi></mml:msubsup></mml:mrow><mml:mo>/</mml:mo><mml:mrow><mml:msubsup><mml:mi>n</mml:mi><mml:mi>v</mml:mi><mml:mi>Q</mml:mi></mml:msubsup></mml:mrow></mml:mrow></mml:math></inline-formula> are additive noise contributions (considered Gaussian) present in measurements of the demodulator outputs; note that they are considered different since they follow two independent physical paths, but their noise power is the same, and thus they have the same standard deviation. From the signals in (5), following the calibration and error correction process [<xref ref-type="bibr" rid="b29-sensors-11-05416">29</xref>], arctangent estimation was used to obtain the phase-shift from which the final differential distance was calculated.</p><p>After demodulation, signal and noise spectra were shifted down an <italic>f</italic><italic><sub>0</sub></italic> (4 MHz) frequency-step. As schematically shown in <xref ref-type="fig" rid="f12-sensors-11-05416">Figure 12</xref>, the final effective noise was the result of integrating the spectra into the output filter bandwidth, which is an active first order low-pass filter with a very narrow band (set to 30 Hz). Thus, only the part of the noise density power contained in that band, on the right-hand side of f<sub>0</sub>, contributed to the final effective noise. The value of the noise density-power at f<sub>0,</sub> &#x003b7;, (see <xref ref-type="fig" rid="f12-sensors-11-05416">Figure 12(a)</xref>), can be considered constant in the band of the output low pass filter, <italic>LPF</italic> (see <xref ref-type="fig" rid="f12-sensors-11-05416">Figure 12(b)</xref>). The <italic>LPF</italic> was extremely narrow in order to identify substantial variations. Thus, in the context of this noise-band integration it can be considered flat noise; the constant <italic>Ks</italic> takes into account the multiplying constants in the circuit from sensor to output.</p><p><xref ref-type="table" rid="t3-sensors-11-05416">Table 3</xref> shows the noise and <italic>SNR</italic> levels at different points in the circuit. It can be seen how <italic>SNR</italic> improved at the demodulator outputs with respect to the output at the sensor. The measuring conditions refer to the distance between emitter and receiver and both working angles. The amplitude used for the <italic>SNR</italic> calculation was always carried out at the sensor output; this was necessary because the information was transferred into a <italic>DC</italic> component in the demodulator, and an effective <italic>SNR</italic> level was always defined using this amplitude and the noise level in every point, providing a sound definition since the information power, as previously explained, was shifted down to <italic>DC</italic> but not altered. This is, the signal treatment block aims at reducing noise bandwidth while not modifying signal power, shifting the signal to <italic>DC</italic> allows the bandwidth reduction to be maximized.</p><p>Noise values were computed from real measurements taken at different points of the reception and signal treatment stages. The reduction of total noise is clearly illustrated in <xref ref-type="table" rid="t3-sensors-11-05416">Table 3</xref>, which shows an increase of 26 dB between sensor and demodulator outputs. Following that, the ADC anti-aliasing filter caused remaining high frequency noise to be rejected and a final digital low-pass filtering, implemented in the <italic>PC</italic>, established the effective <italic>SNR</italic>, with a highly satisfactory improvement of 37.5 dB over the initial value thanks to the signal treatment block.</p></sec></sec><sec><label>6.</label><title>Results and Discussion</title><p>Having explained the definitive designs adopted for every stage of the system and the resulting <italic>SNR</italic> levels defined for actual working conditions, in this section the results for distance and position measurements, together with a comparative chart of other indoor positioning systems, are presented. Before focusing on numerical results, the final emitter and receiver designs in <italic>PCB</italic> are shown in <xref ref-type="fig" rid="f13-sensors-11-05416">Figure 13</xref>.</p><p><xref ref-type="fig" rid="f14-sensors-11-05416">Figure 14</xref> depicts the setup used for distance measuring tests. The receiver was placed in position A, orientated so that its direction of maximum responsivity pointed vertically at the floor. The emitter was placed in position B, onboard a mobile robot at 60 cm above the floor so that its distance to the horizontal receiver plane was 215 cm.</p><p>The robot was moved through a set of positions between C and D in the diagram, that is, a position directly under the receiver (C), where measured distance should be 215 cm, and a position 330 cm away horizontally (D), where measured distance should be 394 cm. The set of positions was calculated so that distance increments in the diagonal were constant and equal to 20 cm. This setup covered the entire range of possible distances and angles the system should be able to work with according to previously defined performance specifications.</p><p>Using this configuration, captures were taken for every position, averaging the data every 250 ms to obtain the resulting distances shown in <xref ref-type="fig" rid="f15-sensors-11-05416">Figure 15(a)</xref>, where the blue dots represent estimated distance and the red lines represent the true value for every position. <xref ref-type="fig" rid="f15-sensors-11-05416">Figure 15(b)</xref> shows the dispersion measured for every position, defined as two standard deviations. The red line represents a radiometric simulation of the expected dispersion increase. Note that when the robot was moved away from the receiver, there was a high power reduction due to the distance increase, but also to the variation in both <italic>&#x003b8;</italic> angles, hence the rapid dispersion increase shown in <xref ref-type="fig" rid="f15-sensors-11-05416">Figure 15</xref>.</p><p>It can be observed that dispersion for the worst case remained around &#x000b1;6 cm, below 1.5% of the measured distance, and rather lower for positions closer to the receiver. As mentioned in the Introduction, these results may seem poor compared to current distance measuring systems, such as laser telemeters, which can achieve precision rates of under 1 mm for much longer distances, but it should not be forgotten that the sensorial system forming a LPS must meet two further critical requirements in addition to precision: coverage and response time, the trade-off of which with precision has already been explained in Section 4; coverage does not affect telemetry systems at all, whilst response time has a much less restrictive effect than in the case of an LPS.</p><p>Having defined distance measuring behavior, position estimation results will be shown, enabling the drawing of conclusions about performance of the entire system as an <italic>LPS</italic>. As mentioned in Section 3, once differential distances had been measured, position was estimated by hyperbolic trilateration. In this case, once the height of the emitter and the sign of the distance difference are known, only two hyperboloid equations are necessary to solve a position, that is to say, only two differential distances obtained from two receivers plus a reference distance are needed. Each new receiver added to the system introduces a new equation, the effect of which on dispersion in the final position estimation can be positive or negative, depending on the new differential distance SNR. Analyzing the resulting dispersion in distance measurements with one receiver and taking into account an SNR increase by a factor of 
<inline-formula><mml:math id="M9"><mml:msqrt><mml:mn>2</mml:mn></mml:msqrt></mml:math></inline-formula> (considering that their respective noises are uncorrelated) when calculating differential distances with two receivers, it was concluded that the use of five receivers to cover all the positions in the cell was counterproductive, since they generated higher dispersion in the estimated position than the dispersion obtained using four receivers. Accordingly, the positioning cell was divided into four quadrants, where the furthest receiver was not taken into account.</p><p>One of these quadrants can be observed in <xref ref-type="fig" rid="f16-sensors-11-05416">Figure 16(a)</xref>, where the active receivers are highlighted and the positions where the robot will be placed are marked with crosses. <xref ref-type="fig" rid="f16-sensors-11-05416">Figure 16(b)</xref> shows the results for test points (1) to (9), and true values are placed at the intersections of grid lines. The corresponding clouds of points represent the estimated positions.</p><p>Dispersions on both axes for position estimations are shown in <xref ref-type="fig" rid="f17-sensors-11-05416">Figure 17</xref>, calculated as two standard deviations. The position numbers correspond to the ones in <xref ref-type="fig" rid="f16-sensors-11-05416">Figure 16(b)</xref>. It can be observed that dispersion remained below 10 and 9 cm for the x and y axes, respectively, with an average value of 7.3 cm in both directions. The differences in the dispersion levels between different points are due to the system geometry. As shown in distance results, <italic>SNR</italic> levels in every receiver keep a high dependence with position; this, together with the effect of the chosen reference, whose <italic>SNR</italic> affects all differential distances, determines the spatial dependence of precision. Nevertheless, this dispersion differences always remained below 5 cm. Note that these results are given for specific conditions of coverage (3 &#x000d7; 3 m<sup>2</sup> covered with 5 receivers) and position data rate (250 ms); should any of these limitations be reduced, precision would consequently increase.</p><p>In order to provide an intuitive idea of the proposed system&#x02019;s performance, a chart comparing this system with other state-of-the-art local positioning systems currently under research is presented in <xref ref-type="table" rid="t4-sensors-11-05416">Table 4</xref>. Information about precision, signal used, and most usual measuring techniques is provided. The last two rows represent the system proposed in this paper, the first one corresponding to actual results with current devices and the second one to estimated results assuming an improvement in photonic devices performance.</p><p>Systems based on <italic>RF</italic>, most of which have the advantage of making use of a previously established infrastructure, remain above 1 m precision except for ultra-wideband based systems, which reach some tens of cm. Camera-based systems position below 5 cm, with high future potential due to rapid improvements in computer vision, having as their main disadvantages the relative expense of installing a multi-camera infrastructure and the need for very accurate calibration. Finally, ultrasound systems, based on time-of-flight measurements and perhaps the most comparable to the proposed system, reach precisions of below 2 cm.</p><p>It is always difficult to conduct an objective comparison of different technologies using different specifications, but two details should be noted when analyzing the proposed <italic>IR</italic> system: (A) Simplicity was taken as a design constraint, in order to achieve a cheap, modular and easy to extend and maintain solution; and (B) The precision achieved is strongly related to the photonic devices currently available on the market, and thus has the potential for improvement should new emitter and receiver devices with larger sensitive areas capable of working at higher power and frequency appear on the market. To illustrate this potential, note that using a 50% more powerful <italic>LED</italic> and a photodiode with twice the area and the same responsivity as the current ones, working at 20 MHz, the precision achieved would be more than 11 times greater (below 0.7 cm) using exactly the same measuring structure.</p></sec><sec><label>7.</label><title>Conclusions and Future Research</title><p>An <italic>IR</italic>-based indoor robot locating method for Intelligent Spaces has been proposed as an alternative approach to other existing systems working with different technologies. The locating precision is below 10 cm, which falls within the precision achieved by the best existing systems, and is potentially improvable using the same measurement structure, should better performance photonic devices appear on the market. A simple, inexpensive and highly modular system has been developed so that covering a new area in a building is not complex, and enlarging an existing one would be an easy task.</p><p>The strong trade-off between coverage, precision and real time performance of the system has been solved by carefully designing the receiving and signal treatment stages. This renders it possible to recover phase information from very low quality signals, providing an effective <italic>SNR</italic> improvement of up to 37.5 dB. In addition, <italic>I/Q</italic> demodulation allows strong filtering at the output, which drastically reduces noise. Improved precision could be achieved by stronger filtering but at the cost of slower response, so that real time performance would be worse.</p><p>The main performance limitations are related to the trade-off between response time and maximum working power and sensitive area of the emitter and receiver devices, limiting <italic>SNR</italic> of received signals and maximum working frequencies, and consequently the final locating precision. It is important to note that this limitation is mainly related to the performance of current photonic devices rather than being a feature of the proposed locating method or system structure.</p><p>The current signal treatment stage is almost fully analog, centered on hardware <italic>I/Q</italic> demodulation. Implementing this stage on a digital system by applying AD-conversion immediately after reception is proposed as a future subject of research. This would increase robustness, repeatability and reproducibility of the system, as well as providing an easier test platform for new estimation algorithms.</p><p>Reducing the trade-off between coverage and precision is a key issue for positioning systems. To this end, an automatic orientation system for the receivers is proposed. This would increase the received power by effectively yielding higher responsivity in each sensor and would provide the possibility of using optics to increase the reception area. The orientation of receivers renders reception of power, and therefore <italic>SNR</italic> level, more independent of position. Implementing an auto-orientation system could potentially improve both precision and coverage of the <italic>LPS</italic>.</p></sec></body><back><ack><p>This research was supported by the Spanish Research Program through the project <italic>ESPIRA</italic> (ref. DPI2009-10143).</p></ack><ref-list><title>References</title><ref id="b1-sensors-11-05416"><label>1.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Brncic</surname><given-names>D</given-names></name><name><surname>Sasaki</surname><given-names>T</given-names></name><name><surname>Hashimoto</surname><given-names>H</given-names></name></person-group><article-title>Acting in Intelligent Space</article-title><conf-name>Proceedings of the IEEE International Conference on Advanced Intelligent Mechatronics</conf-name><conf-loc>Zurich, Switzerland</conf-loc><conf-date>4&#x02013;7 September 2007</conf-date></element-citation></ref><ref id="b2-sensors-11-05416"><label>2.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Lee</surname><given-names>JH</given-names></name><name><surname>Hashimoto</surname><given-names>H</given-names></name></person-group><article-title>Intelligent Space</article-title><conf-name>Proceedings of the 2000 IEEE/RSJ International Conference on Intelligent Robots and Systems</conf-name><conf-loc>Takamatsu, Japan</conf-loc><conf-date>31 October&#x02013;5 November 2000</conf-date></element-citation></ref><ref id="b3-sensors-11-05416"><label>3.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lee</surname><given-names>JH</given-names></name><name><surname>Morioka</surname><given-names>K</given-names></name><name><surname>Ando</surname><given-names>N</given-names></name><name><surname>Hashimoto</surname><given-names>H</given-names></name></person-group><article-title>Cooperation of distributed intelligent sensors in intelligent environment</article-title><source>IEEE/ASME Trans. Mechatron</source><year>2004</year><volume>9</volume><fpage>535</fpage><lpage>543</lpage></element-citation></ref><ref id="b4-sensors-11-05416"><label>4.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Rainier</surname><given-names>M</given-names></name></person-group><article-title>The Challenges of Indoor Environments and Specification on some Alternative Positioning Systems</article-title><conf-name>Proceedings of the IEEE 6th Workshop on Positioning, Navigation and Communication</conf-name><conf-loc>Hannover, Germany</conf-loc><conf-date>19 March 2009</conf-date></element-citation></ref><ref id="b5-sensors-11-05416"><label>5.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Dedes</surname><given-names>G</given-names></name><name><surname>Dempster</surname><given-names>AG</given-names></name></person-group><article-title>Indoor GPS Positioning</article-title><conf-name>Proceedings of the IEEE Semiannual Vehicular Technology Conference</conf-name><conf-loc>Dallas, TX, USA</conf-loc><conf-date>25&#x02013;28 September 2005</conf-date></element-citation></ref><ref id="b6-sensors-11-05416"><label>6.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ure&#x000f1;a</surname><given-names>J</given-names></name><name><surname>Hern&#x000e1;ndez</surname><given-names>A</given-names></name><name><surname>Jim&#x000e9;nez</surname><given-names>A</given-names></name><name><surname>Villadangos</surname><given-names>JM</given-names></name><name><surname>Mazo</surname><given-names>M</given-names></name><name><surname>Garc&#x000ed;a</surname><given-names>JC</given-names></name><name><surname>Garc&#x000ed;a</surname><given-names>JJ</given-names></name><name><surname>&#x000c1;lvarez</surname><given-names>FJ</given-names></name><name><surname>de Marciani</surname><given-names>C</given-names></name><name><surname>P&#x000e9;rez</surname><given-names>MC</given-names></name><etal/></person-group><article-title>Advanced sensorial system for an acoustic LPS</article-title><source>Microproces. Microsys</source><year>2007</year><volume>31</volume><fpage>393</fpage><lpage>401</lpage></element-citation></ref><ref id="b7-sensors-11-05416"><label>7.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Kartowisastro</surname><given-names>IH</given-names></name></person-group><article-title>Local Positioning System of a Mobile Robot: A Practical Perspective</article-title><conf-name>Proceedings of the IEEE 9th International Conference on Control, Automation Robotics and Vision</conf-name><conf-loc>Singapore</conf-loc><conf-date>5&#x02013;8 December 2006</conf-date></element-citation></ref><ref id="b8-sensors-11-05416"><label>8.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Haake</surname><given-names>IT</given-names></name><name><surname>Nikolaidis</surname><given-names>I</given-names></name><name><surname>Gburzynski</surname><given-names>P</given-names></name></person-group><article-title>A Scheme for Indoor Localization through RF Profiling</article-title><conf-name>Proceedings of the IEEE International Conference on Communications</conf-name><conf-loc>Dresden, Germany</conf-loc><conf-date>14&#x02013;18 June 2009</conf-date></element-citation></ref><ref id="b9-sensors-11-05416"><label>9.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Mulloni</surname><given-names>A</given-names></name><name><surname>Wagner</surname><given-names>D</given-names></name><name><surname>Arakonyi</surname><given-names>I</given-names></name><name><surname>Schmalstieg</surname><given-names>D</given-names></name></person-group><article-title>indoor positioning and navigation with camera phones</article-title><source>IEEE Pervasive Comput</source><year>2009</year><volume>8</volume><fpage>22</fpage><lpage>31</lpage></element-citation></ref><ref id="b10-sensors-11-05416"><label>10.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Tiang</surname><given-names>L</given-names></name><name><surname>Chao</surname><given-names>H</given-names></name><name><surname>Wang</surname><given-names>L</given-names></name><name><surname>Chen</surname><given-names>D</given-names></name><name><surname>Meng</surname><given-names>MQ-H</given-names></name></person-group><article-title>A Novel 5-Dimensional Indoor Localization Algorithm Based on RF Signal Strength</article-title><conf-name>Proceedings of the IEEE International Conference on Automation and Logistics</conf-name><conf-loc>Shenyang, China</conf-loc><conf-date>5&#x02013;7 August 2009</conf-date></element-citation></ref><ref id="b11-sensors-11-05416"><label>11.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Izquierdo</surname><given-names>F</given-names></name><name><surname>Ciurana</surname><given-names>M</given-names></name><name><surname>Barcel&#x000f3;</surname><given-names>F</given-names></name><name><surname>Paradells</surname><given-names>J</given-names></name><name><surname>Zola</surname><given-names>E</given-names></name></person-group><article-title>Performance Evaluation of a TOA-based Trilateration Method to Locate Terminals in WLAN</article-title><conf-name>Proceedings of the IEEE International Symposium in Wireless Pervasive Computing</conf-name><conf-loc>Puchet, Thailand</conf-loc><conf-date>16&#x02013;18 June 2006</conf-date></element-citation></ref><ref id="b12-sensors-11-05416"><label>12.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>McGillem</surname><given-names>CD</given-names></name><name><surname>Rappaport</surname><given-names>TS</given-names></name></person-group><article-title>Infra-red Location System for Navigation of Autonomous Vehicles</article-title><conf-name>Proceedings of the IEEE International Conference on Robotics and Automation</conf-name><conf-loc>San Francisco, CA, USA</conf-loc><conf-date>24&#x02013;29 April 1988</conf-date><volume>2</volume><fpage>1236</fpage><lpage>1238</lpage></element-citation></ref><ref id="b13-sensors-11-05416"><label>13.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Gustafsson</surname><given-names>F</given-names></name><name><surname>Gunnarsson</surname><given-names>F</given-names></name></person-group><article-title>Positioning using Time-Difference of Arrival measurements</article-title><conf-name>Proceedings of the IEEE International Conference on Acoustics, Speech and Signal Processing</conf-name><conf-loc>Hong Kong</conf-loc><conf-date>6&#x02013;10 April 2003</conf-date></element-citation></ref><ref id="b14-sensors-11-05416"><label>14.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Walworth</surname><given-names>M</given-names></name><name><surname>Mahajan</surname><given-names>A</given-names></name></person-group><article-title>3-D position sensing using the differences in the time-of-flight from a wave source to various receivers</article-title><source>IEEE Trans. Robot. Automat</source><year>2001</year><volume>17</volume><fpage>91</fpage><lpage>94</lpage></element-citation></ref><ref id="b15-sensors-11-05416"><label>15.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Paloj&#x000e4;ri</surname><given-names>P</given-names></name><name><surname>Ruotsalainen</surname><given-names>T</given-names></name><name><surname>Kostamovaara</surname><given-names>J</given-names></name></person-group><article-title>A 250-MHz BiCMOS receiver channel with leading edge timing discriminator for a pulsed time-of-flight laser rangefinder</article-title><source>IEEE J. Solid-State Circuits</source><year>2005</year><volume>40</volume><fpage>1341</fpage><lpage>1349</lpage></element-citation></ref><ref id="b16-sensors-11-05416"><label>16.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nissinen</surname><given-names>I</given-names></name><name><surname>Kostamovaara</surname><given-names>J</given-names></name></person-group><article-title>On-chip voltage reference-based time-to-digital converter for pulsed time-of-flight laser radar measurements</article-title><source>IEEE Trans. Instrum. Meas</source><year>2009</year><volume>58</volume><fpage>1938</fpage><lpage>1948</lpage></element-citation></ref><ref id="b17-sensors-11-05416"><label>17.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Poujouly</surname><given-names>S</given-names></name><name><surname>Jourmet</surname><given-names>B</given-names></name><name><surname>Miller</surname><given-names>D</given-names></name></person-group><article-title>Laser Range Finder based on Fully Digital Phase-Shift Measurement</article-title><conf-name>Proceedings of the 16th IEEE International Conference on Instrumentation and Measurement Technology</conf-name><conf-loc>Venice, Italy</conf-loc><conf-date>24&#x02013;26 May 1999</conf-date></element-citation></ref><ref id="b18-sensors-11-05416"><label>18.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Poujouly</surname><given-names>S</given-names></name><name><surname>Journet</surname><given-names>B</given-names></name></person-group><article-title>A twofold modulation frequency laser rangefinder</article-title><source>J. Opt. A-Pure Appl. Opt</source><year>2002</year><volume>4</volume><fpage>356</fpage><lpage>363</lpage></element-citation></ref><ref id="b19-sensors-11-05416"><label>19.</label><element-citation publication-type="other"><person-group person-group-type="author"><name><surname>Fern&#x000e1;ndez</surname><given-names>I</given-names></name></person-group><article-title>Sistema de posicionamiento absoluto de un robot m&#x000f3;vil utilizando c&#x000e1;maras externas</article-title><comment>Ph.D. Thesis, Electronics Department, University of Alcal&#x000e1;, Madrid, Spain</comment><year>2005</year></element-citation></ref><ref id="b20-sensors-11-05416"><label>20.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Joo</surname><given-names>C-K</given-names></name><name><surname>Kim</surname><given-names>Y-C</given-names></name><name><surname>Choi</surname><given-names>M-H</given-names></name><name><surname>Ryoo</surname><given-names>Y-J</given-names></name></person-group><article-title>Self localization for Intelligent Mobile Robot using Multiple Infrared Scanning System</article-title><conf-name>Proceedings of the IEEE International Conference on Control, Automation and Systems</conf-name><conf-loc>Seoul, Korea</conf-loc><conf-date>17&#x02013;20 October 2007</conf-date></element-citation></ref><ref id="b21-sensors-11-05416"><label>21.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Jim&#x000e9;nez</surname><given-names>A</given-names></name><name><surname>Hern&#x000e1;ndez</surname><given-names>A</given-names></name><name><surname>Ure&#x000f1;a</surname><given-names>J</given-names></name><name><surname>Alonso</surname><given-names>M</given-names></name><name><surname>De Marziani</surname><given-names>C</given-names></name><name><surname>P&#x000e9;rez</surname><given-names>MC</given-names></name><name><surname>Mazo</surname><given-names>M</given-names></name><name><surname>Villadangos</surname><given-names>JM</given-names></name><name><surname>Garc&#x000ed;a</surname><given-names>JJ</given-names></name><name><surname>&#x000c1;lvarez</surname><given-names>F</given-names></name></person-group><article-title>FPGA-based Implementation of an Ultrasonic Beacon for a Local Positioning System</article-title><conf-name>Proceedings of the IEEE International Annual Conference on Industrial Electronics, Control and Instrumentation</conf-name><conf-loc>Paris, France</conf-loc><conf-date>7&#x02013;10 November 2006</conf-date></element-citation></ref><ref id="b22-sensors-11-05416"><label>22.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>P&#x000e9;rez</surname><given-names>MC</given-names></name><name><surname>Ure&#x000f1;a</surname><given-names>J</given-names></name><name><surname>Hern&#x000e1;ndez</surname><given-names>A</given-names></name><name><surname>De Marziani</surname><given-names>C</given-names></name><name><surname>Jim&#x000e9;nez</surname><given-names>A</given-names></name><name><surname>Villadangos</surname><given-names>JM</given-names></name><name><surname>&#x000c1;lvarez</surname><given-names>F</given-names></name></person-group><article-title>Ultrasonic Beacon-Based Local Positioning System Using Loosely Synchronous codes</article-title><conf-name>Proceedings of the IEEE International Symposium on Intelligent Signal Processing,</conf-name><conf-loc>Alcal&#x000e1; de Henares, Spain</conf-loc><conf-date>3&#x02013;5 October 2007</conf-date><volume>1</volume><fpage>923</fpage><lpage>928</lpage></element-citation></ref><ref id="b23-sensors-11-05416"><label>23.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Gorostiza</surname><given-names>EM</given-names></name><name><surname>L&#x000e1;zaro</surname><given-names>JL</given-names></name><name><surname>Mart&#x000ed;n</surname><given-names>JL</given-names></name></person-group><article-title>LPS system based on fixed detectors</article-title><conf-name>Proceedings of the Seminario Anual de Autom&#x000e1;tica, Electr&#x000f3;nica Industrial e Instrumentaci&#x000f3;n</conf-name><conf-loc>Matanzas, Cuba</conf-loc><conf-date>17&#x02013;19 September 2001</conf-date></element-citation></ref><ref id="b24-sensors-11-05416"><label>24.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Mart&#x000ed;n-Gorostiza</surname><given-names>E</given-names></name><name><surname>Meca Meca</surname><given-names>FJ</given-names></name><name><surname>L&#x000e1;zaro Galilea</surname><given-names>JL</given-names></name><name><surname>Martos Naya</surname><given-names>E</given-names></name><name><surname>Naranjo</surname><given-names>FB</given-names></name><name><surname>Esteban</surname><given-names>O</given-names></name></person-group><article-title>Coverage-mapping method based on a hardware model for mobile-robot positioning in intelligent spaces</article-title><source>IEEE Trans. Instrum. Meas</source><year>2010</year><volume>59</volume><fpage>266</fpage><lpage>282</lpage></element-citation></ref><ref id="b25-sensors-11-05416"><label>25.</label><element-citation publication-type="other"><person-group person-group-type="author"><name><surname>Murphy</surname><given-names>WS</given-names><suffix>Jr</suffix></name></person-group><article-title>Determination of a Position Using Approximate Distances and Trilateration</article-title><comment>Ph.D. Thesis, Faculty of the Colorado School of Mines, Golden, Colorado, USA</comment><year>2007</year></element-citation></ref><ref id="b26-sensors-11-05416"><label>26.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Arshak</surname><given-names>K</given-names></name><name><surname>Adepoju</surname><given-names>F</given-names></name></person-group><article-title>A Model for Estimating the Real-Time Positions of a Moving Object in Wireless Telemetry applications using RF Sensors</article-title><conf-name>Proceedings of the IEEE Sensors and Applications Symposium</conf-name><conf-loc>San Diego, CA, USA</conf-loc><conf-date>6&#x02013;8 February 2007</conf-date></element-citation></ref><ref id="b27-sensors-11-05416"><label>27.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Boley</surname><given-names>DL</given-names></name><name><surname>Sutherland</surname><given-names>KT</given-names></name></person-group><article-title>A rapidly converging recursive method for mobile robot localization</article-title><source>Int. J. Robot. Res</source><year>1998</year><volume>17</volume><fpage>1027</fpage><lpage>1039</lpage></element-citation></ref><ref id="b28-sensors-11-05416"><label>28.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>de Marziani</surname><given-names>C</given-names></name><name><surname>Ure&#x000f1;a</surname><given-names>J</given-names></name><name><surname>Hern&#x000e1;ndez</surname><given-names>A</given-names></name><name><surname>Mazo</surname><given-names>M</given-names></name><name><surname>Garc&#x000ed;a</surname><given-names>JJ</given-names></name><name><surname>Jim&#x000e9;nez</surname><given-names>A</given-names></name><name><surname>Villadangos</surname><given-names>JM</given-names></name><name><surname>P&#x000e9;rez</surname><given-names>MC</given-names></name><name><surname>Ochoa</surname><given-names>A</given-names></name><name><surname>&#x000c1;lvarez</surname><given-names>F</given-names></name></person-group><article-title>Hardware Implementation of Acoustic Sensor Network for Relative Positioning System</article-title><conf-name>Proceedings of the IEEE International Symposium on Industrial Electronics</conf-name><conf-loc>Vigo, Spain</conf-loc><conf-date>4&#x02013;7 June 2007</conf-date></element-citation></ref><ref id="b29-sensors-11-05416"><label>29.</label><element-citation publication-type="confproc"><person-group person-group-type="author"><name><surname>Mart&#x000ed;n-Gorostiza</surname><given-names>E</given-names></name><name><surname>Meca Meca</surname><given-names>FJ</given-names></name><name><surname>L&#x000e1;zaro Galilea</surname><given-names>JL</given-names></name><name><surname>Salido Monz&#x000fa;</surname><given-names>D</given-names></name><name><surname>Pallar&#x000e9;s Puerto</surname><given-names>L</given-names></name><name><surname>Moral Alcaraz</surname><given-names>A</given-names></name></person-group><article-title>Error corrections in Phase-Shift Measurement for Robot Infrared Localization in Intelligent Spaces</article-title><conf-name>Proceedings of the IEEE International Workshop on Robotics and Sensor Environments</conf-name><conf-loc>Lecco, Italy</conf-loc><conf-date>6&#x02013;7 November 2009</conf-date></element-citation></ref><ref id="b30-sensors-11-05416"><label>30.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Yang</surname><given-names>H</given-names></name><name><surname>Lu</surname><given-names>C</given-names></name></person-group><article-title>Infrared wireless LAN using multiple optical sources</article-title><source>IEEE Proc-Optoelectron</source><year>2000</year><volume>147</volume><fpage>301</fpage><lpage>307</lpage></element-citation></ref></ref-list></back><floats-group><fig id="f1-sensors-11-05416" position="float"><label>Figure 1.</label><caption><p>System block diagram.</p></caption><graphic xlink:href="sensors-11-05416f1"/></fig><fig id="f2-sensors-11-05416" position="float"><label>Figure 2.</label><caption><p>Basic locating cell.</p></caption><graphic xlink:href="sensors-11-05416f2"/></fig><fig id="f3-sensors-11-05416" position="float"><label>Figure 3.</label><caption><p><bold>(a)</bold> System-level trade-offs; <bold>(b)</bold> Electronic-level trade-offs.</p></caption><graphic xlink:href="sensors-11-05416f3"/></fig><fig id="f4-sensors-11-05416" position="float"><label>Figure 4.</label><caption><p>Radiation pattern of the emitter device.</p></caption><graphic xlink:href="sensors-11-05416f4"/></fig><fig id="f5-sensors-11-05416" position="float"><label>Figure 5.</label><caption><p>Emitter circuit.</p></caption><graphic xlink:href="sensors-11-05416f5"/></fig><fig id="f6-sensors-11-05416" position="float"><label>Figure 6.</label><caption><p>Reception pattern of the receiver device.</p></caption><graphic xlink:href="sensors-11-05416f6"/></fig><fig id="f7-sensors-11-05416" position="float"><label>Figure 7.</label><caption><p>Receiving circuit.</p></caption><graphic xlink:href="sensors-11-05416f7"/></fig><fig id="f8-sensors-11-05416" position="float"><label>Figure 8.</label><caption><p>I/V converter equivalent circuit.</p></caption><graphic xlink:href="sensors-11-05416f8"/></fig><fig id="f9-sensors-11-05416" position="float"><label>Figure 9.</label><caption><p>Frequency domain plots: sensor transimpedance function, filter transfer function (only lower cutoff frequency is shown) and noise power spectrum.</p></caption><graphic xlink:href="sensors-11-05416f9"/></fig><fig id="f10-sensors-11-05416" position="float"><label>Figure 10.</label><caption><p>Signals in the output of the receiver: <bold>(a)</bold> Best case: (2.5 m, 0&#x000b0;); <bold>(b)</bold> Worst case: (3.5 m, 45&#x000b0;).</p></caption><graphic xlink:href="sensors-11-05416f10"/></fig><fig id="f11-sensors-11-05416" position="float"><label>Figure 11.</label><caption><p>Signal treatment block.</p></caption><graphic xlink:href="sensors-11-05416f11"/></fig><fig id="f12-sensors-11-05416" position="float"><label>Figure 12.</label><caption><p><bold>(a)</bold> Noise frequency-shift due to demodulation; <bold>(b)</bold> Final (low-pass filtered) total noise.</p></caption><graphic xlink:href="sensors-11-05416f12"/></fig><fig id="f13-sensors-11-05416" position="float"><label>Figure 13.</label><caption><p><bold>(a)</bold> Receiver PCB; <bold>(b)</bold> Emitter PCB.</p></caption><graphic xlink:href="sensors-11-05416f13"/></fig><fig id="f14-sensors-11-05416" position="float"><label>Figure 14.</label><caption><p>Setup for distance measuring using one receiver. <bold>(a)</bold> Setup diagram; <bold>(b)</bold> Actual setup.</p></caption><graphic xlink:href="sensors-11-05416f14"/></fig><fig id="f15-sensors-11-05416" position="float"><label>Figure 15.</label><caption><p><bold>(a)</bold> Distance measurements using one receiver; <bold>(b)</bold> Dispersion for each distance (2&#x003c3;).</p></caption><graphic xlink:href="sensors-11-05416f15"/></fig><fig id="f16-sensors-11-05416" position="float"><label>Figure 16.</label><caption><p><bold>(a)</bold> Setup for position estimation; <bold>(b)</bold> Position estimation results.</p></caption><graphic xlink:href="sensors-11-05416f16"/></fig><fig id="f17-sensors-11-05416" position="float"><label>Figure 17.</label><caption><p>Dispersion for each position (2&#x003c3;). <bold>(a)</bold> X axis; <bold>(b)</bold> Y axis.</p></caption><graphic xlink:href="sensors-11-05416f17"/></fig><table-wrap id="t1-sensors-11-05416" position="float"><label>Table 1.</label><caption><p>Different up-to-date commercial IR emitters (IRED).</p></caption><table frame="box" rules="all"><thead><tr content-type="background-color:#E6E6E6"><th align="center" valign="middle" rowspan="2" colspan="1"><bold>Device</bold></th><th align="center" valign="middle" rowspan="2" colspan="1"><bold>P<sub>max</sub></bold><bold>(W)</bold></th><th align="center" valign="middle" rowspan="2" colspan="1"><bold>I<sub>max</sub></bold><bold>(W/sr)</bold></th><th align="center" valign="middle" rowspan="2" colspan="1"><bold>f<sub>max</sub></bold><bold>(MHz)</bold></th><th align="center" valign="middle" rowspan="2" colspan="1"><bold>&#x003b8;<sub>1/2</sub></bold><bold>(&#x000b0;)</bold></th><th align="center" valign="middle" rowspan="2" colspan="1"><bold>&#x003bb;<sub>p</sub></bold><bold>(nm)</bold></th><th align="center" valign="middle" rowspan="2" colspan="1"><bold>I<sub>Dmax</sub></bold><bold>(DC, Pulsed) (A)</bold></th><th colspan="2" align="center" valign="middle" rowspan="1"><bold>Evaluation</bold></th></tr><tr content-type="background-color:#E6E6E6"><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Positive</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Negative</bold></th></tr></thead><tbody><tr><td align="center" valign="top" rowspan="1" colspan="1">SFH4050 (Osram)</td><td align="center" valign="top" rowspan="1" colspan="1">0.5</td><td align="center" valign="top" rowspan="1" colspan="1">70</td><td align="center" valign="top" rowspan="1" colspan="1">23</td><td align="center" valign="top" rowspan="1" colspan="1">80</td><td align="center" valign="top" rowspan="1" colspan="1">850</td><td align="center" valign="top" rowspan="1" colspan="1">100 mA, 1 A</td><td align="center" valign="top" rowspan="1" colspan="1">Angle, Frequency</td><td align="center" valign="top" rowspan="1" colspan="1">Power</td></tr><tr><td align="center" valign="top" rowspan="1" colspan="1">OD-50W (OPC)</td><td align="center" valign="top" rowspan="1" colspan="1">1</td><td align="center" valign="top" rowspan="1" colspan="1">200</td><td align="center" valign="top" rowspan="1" colspan="1">0.4</td><td align="center" valign="top" rowspan="1" colspan="1">110</td><td align="center" valign="top" rowspan="1" colspan="1">880</td><td align="center" valign="top" rowspan="1" colspan="1">500 mA, 10A</td><td align="center" valign="top" rowspan="1" colspan="1">Power Angle</td><td align="center" valign="top" rowspan="1" colspan="1">Frequency</td></tr><tr><td align="center" valign="top" rowspan="1" colspan="1">TSHG6200 (Vishay)</td><td align="center" valign="top" rowspan="1" colspan="1">0.4</td><td align="center" valign="top" rowspan="1" colspan="1">1800</td><td align="center" valign="top" rowspan="1" colspan="1">14</td><td align="center" valign="top" rowspan="1" colspan="1">10</td><td align="center" valign="top" rowspan="1" colspan="1">850</td><td align="center" valign="top" rowspan="1" colspan="1">100 mA, 1 A</td><td align="center" valign="top" rowspan="1" colspan="1">Frequency</td><td align="center" valign="top" rowspan="1" colspan="1">Angle</td></tr><tr><td align="center" valign="top" rowspan="1" colspan="1">SFH4740 (10 leds) (Osram)</td><td align="center" valign="top" rowspan="1" colspan="1">3.6</td><td align="center" valign="top" rowspan="1" colspan="1">1800</td><td align="center" valign="top" rowspan="1" colspan="1">28</td><td align="center" valign="top" rowspan="1" colspan="1">60</td><td align="center" valign="top" rowspan="1" colspan="1">850</td><td align="center" valign="top" rowspan="1" colspan="1">1 A, 2 A</td><td align="center" valign="top" rowspan="1" colspan="1">Power, Angle Frequency</td><td align="center" valign="top" rowspan="1" colspan="1">Signal coherence</td></tr><tr content-type="background-color:#C6D9F1"><td align="center" valign="top" rowspan="1" colspan="1">SFH4231 (Osram)</td><td align="center" valign="top" rowspan="1" colspan="1">1</td><td align="center" valign="top" rowspan="1" colspan="1">300</td><td align="center" valign="top" rowspan="1" colspan="1">14</td><td align="center" valign="top" rowspan="1" colspan="1">60</td><td align="center" valign="top" rowspan="1" colspan="1">940</td><td align="center" valign="top" rowspan="1" colspan="1">1 A, 2 A</td><td colspan="2" align="center" valign="top" rowspan="1">Good trade-off solution</td></tr></tbody></table></table-wrap><table-wrap id="t2-sensors-11-05416" position="float"><label>Table 2.</label><caption><p>SNR levels in the output of the receiver.</p></caption><table frame="box" rules="all"><thead><tr content-type="background-color:#D9D9D9"><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Measurement conditions (Distance and angle)</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Amplitude</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Noise (&#x003c3;)</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>SNR</bold></th></tr></thead><tbody><tr><td align="center" valign="middle" rowspan="1" colspan="1">2.5 m<break/>0&#x000b0;</td><td align="center" valign="middle" rowspan="1" colspan="1">200 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">150 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">2.5 dB</td></tr><tr><td align="center" valign="middle" rowspan="1" colspan="1">3.5 m<break/>45&#x000b0;</td><td align="center" valign="middle" rowspan="1" colspan="1">15 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">150 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">&#x02212;20 dB</td></tr><tr content-type="background-color:#E6E6E6"><td align="center" valign="middle" rowspan="1" colspan="1">5 m<break/>60&#x000b0;</td><td align="center" valign="middle" rowspan="1" colspan="1">5 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">150 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">&#x02212;30 dB</td></tr></tbody></table></table-wrap><table-wrap id="t3-sensors-11-05416" position="float"><label>Table 3.</label><caption><p>SNR levels in different stages after reception.</p></caption><table frame="box" rules="all"><thead><tr content-type="background-color:#D9D9D9"><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Measuring conditions</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Measuring point</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Noise (&#x003c3;)</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>SNR</bold></th></tr></thead><tbody><tr><td align="center" valign="middle" rowspan="4" colspan="1">Distance = 2.5 m<break/>Angle = 0&#x000b0;<break/>Amplitude = 200 mV</td><td align="left" valign="middle" rowspan="1" colspan="1">Sensor output</td><td align="center" valign="middle" rowspan="1" colspan="1">150 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">2.5 dB</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Demodulator output</td><td align="center" valign="middle" rowspan="1" colspan="1">7.5 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">28.5 dB</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Digitized demodulator output</td><td align="center" valign="middle" rowspan="1" colspan="1">5 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">32 dB</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Digital filter output</td><td align="center" valign="middle" rowspan="1" colspan="1">2 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">40 dB</td></tr><tr><td align="center" valign="middle" rowspan="4" colspan="1">Distance = 3.5 m<break/>Angle = 45&#x000b0;<break/>Amplitude = 15 mV</td><td align="left" valign="middle" rowspan="1" colspan="1">Sensor output</td><td align="center" valign="middle" rowspan="1" colspan="1">150 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">&#x02212;20 dB</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Demodulator output</td><td align="center" valign="middle" rowspan="1" colspan="1">7.5 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">6 dB</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Digitized demodulator output</td><td align="center" valign="middle" rowspan="1" colspan="1">5 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">9.5 dB</td></tr><tr><td align="left" valign="middle" rowspan="1" colspan="1">Digital filter output</td><td align="center" valign="middle" rowspan="1" colspan="1">2 mV</td><td align="center" valign="middle" rowspan="1" colspan="1">17.5 dB</td></tr></tbody></table></table-wrap><table-wrap id="t4-sensors-11-05416" position="float"><label>Table 4.</label><caption><p>Comparison of indoor local positioning systems.</p></caption><table frame="box" rules="all"><thead><tr content-type="background-color:#D9D9D9"><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Technology</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Signal</bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Measure<xref ref-type="table-fn" rid="tfn1-sensors-11-05416"><sup>1</sup></xref></bold></th><th align="center" valign="middle" rowspan="1" colspan="1"><bold>Positioning precision</bold></th></tr></thead><tbody><tr content-type="background-color:#E6E6E6"><td align="center" valign="middle" rowspan="1" colspan="1">Bluetooth</td><td align="center" valign="middle" rowspan="1" colspan="1">RF</td><td align="center" valign="middle" rowspan="1" colspan="1">R.S.S.I.</td><td align="center" valign="middle" rowspan="1" colspan="1">2&#x02013;3 m</td></tr><tr content-type="background-color:#E6E6E6"><td align="center" valign="middle" rowspan="1" colspan="1">RFID</td><td align="center" valign="middle" rowspan="1" colspan="1">RF</td><td align="center" valign="middle" rowspan="1" colspan="1">R.S.S.I.</td><td align="center" valign="middle" rowspan="1" colspan="1">1&#x02013;2 m</td></tr><tr content-type="background-color:#E6E6E6"><td align="center" valign="middle" rowspan="1" colspan="1">Wi-Fi</td><td align="center" valign="middle" rowspan="1" colspan="1">RF</td><td align="center" valign="middle" rowspan="1" colspan="1">R.S.S.I.</td><td align="center" valign="middle" rowspan="1" colspan="1">1&#x02013;2 m</td></tr><tr content-type="background-color:#E6E6E6"><td align="center" valign="middle" rowspan="1" colspan="1">GSM</td><td align="center" valign="middle" rowspan="1" colspan="1">RF</td><td align="center" valign="middle" rowspan="1" colspan="1">T.O.F.; R.T.O.F; D.T.O.F; A.O.A. R.S.S.I.</td><td align="center" valign="middle" rowspan="1" colspan="1">2&#x02013;3 m</td></tr><tr><td align="center" valign="middle" rowspan="1" colspan="1">UWB</td><td align="center" valign="middle" rowspan="1" colspan="1">RF</td><td align="center" valign="middle" rowspan="1" colspan="1">T.O.F; R.T.O.F; D.T.O.F.</td><td align="center" valign="middle" rowspan="1" colspan="1">20&#x02013;30 cm</td></tr><tr><td align="center" valign="middle" rowspan="1" colspan="1">Vision</td><td align="center" valign="middle" rowspan="1" colspan="1">Visible light</td><td align="center" valign="middle" rowspan="1" colspan="1">Pattern recognition</td><td align="center" valign="middle" rowspan="1" colspan="1">5 cm</td></tr><tr><td align="center" valign="middle" rowspan="1" colspan="1">Ultrasound</td><td align="center" valign="middle" rowspan="1" colspan="1">Ultrasound</td><td align="center" valign="middle" rowspan="1" colspan="1">T.O.F.; R.T.O.F; D.T.O.F.</td><td align="center" valign="middle" rowspan="1" colspan="1">1&#x02013;2 cm</td></tr><tr content-type="background-color:#C6D9F1"><td align="center" valign="middle" rowspan="1" colspan="1">IR</td><td align="center" valign="middle" rowspan="1" colspan="1">Infrared</td><td align="center" valign="middle" rowspan="1" colspan="1">Differential phase-shift</td><td align="center" valign="middle" rowspan="1" colspan="1">7 cm</td></tr><tr content-type="background-color:#C6D9F1"><td align="center" valign="middle" rowspan="1" colspan="1">IR<xref ref-type="table-fn" rid="tfn2-sensors-11-05416"><sup>2</sup></xref></td><td align="center" valign="middle" rowspan="1" colspan="1">Infrared</td><td align="center" valign="middle" rowspan="1" colspan="1">Differential phase-shift</td><td align="center" valign="middle" rowspan="1" colspan="1">0.7 cm</td></tr></tbody></table><table-wrap-foot><fn id="tfn1-sensors-11-05416"><p><bold>(1) T.O.F</bold>.: Time of Flight <bold>R.T.O.F</bold>.: Round-trip Time of Flight <bold>D.T.O.F</bold>.: Differential Time of Flight <bold>A.O.A</bold>.: Angle of Arrival <bold>R.S.S.I</bold>.: Received Signal Strength Indicator.</p></fn><fn id="tfn2-sensors-11-05416"><p><bold>(2)</bold> Estimated results: +50% emitted and received optical power. 20 MHz.</p></fn></table-wrap-foot></table-wrap></floats-group></article>