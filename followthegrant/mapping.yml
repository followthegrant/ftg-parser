ftg:
  query:
    entities:
      ## ARTICLE METADATA
      article:
        schema: Article
        id_column: article_id
        properties:
          title:
            column: article_title
            required: true
          summary:
            column: article_abstract
          publisher:
            column: journal_name
          publishedAt:
            column: article_published_at
          author:
            column: article_authors
            split: ","
          keywords:
            column: article_keywords
            split: ","
          indexText:
            column: article_index_text
          doi:
            column: article_doi
          pmc:
            column: article_pmc
          pmid:
            column: article_pmid
          magId:
            column: article_magid
          arxivId:
            column: article_arxivid
          openaireId:
            column: article_openaireid
          s2Id:
            column: article_s2id
      publisher:
        schema: LegalEntity
        id_column: journal_id
        properties:
          name:
            column: journal_name
            required: true
          website:
            column: journal_website
          doi:
            column: journal_doi
      articlepublished:
        schema: Documentation
        key_literal: journal-article
        keys:
          - journal_id
          - article_id
        properties:
          entity:
            column: journal_id
            required: true
          document:
            column: article_id
            required: true
          role:
            literal: "publisher"
          date:
            column: article_published_at
      ## ARTICLE AUTHORS
      author:
        schema: Person
        id_column: author_id
        properties:
          name:
            column: author_name
            required: true
          firstName:
            column: author_first_name
          middleName:
            column: author_middle_names
            split: ","
          lastName:
            column: author_last_name
          country:
            column: author_countries
            split: ","
          orcidId:
            column: author_orcidid
          openaireId:
            column: author_openaireid
          s2Id:
            column: author_s2id
      authorship:
        schema: Documentation
        key_literal: article-author
        keys:
          - article_id
          - author_id
        properties:
          entity:
            column: author_id
            required: true
          document:
            column: article_id
            required: true
          date:
            column: article_published_at
          role:
            literal: "author"
          publisher:
            column: journal_name
      institution:
        schema: Organization
        id_column: institution_id
        properties:
          name:
            column: institution_name
            required: true
          country:
            column: institution_country
          rorId:
            column: institution_rorid
          gridId:
            column: institution_gridid
      affiliation:
        schema: Membership
        key_literal: institution-author
        keys:
          - institution_id
          - author_id
        properties:
          member:
            column: author_id
            required: true
          organization:
            column: institution_id
            required: true
          date:
            column: article_published_at
          role:
            literal: "affiliated with"
          publisher:
            column: journal_name
      ## COI STATEMENT
      coi_statement:
        schema: PlainText
        id_column: coi_id
        properties:
          title:
            column: coi_title
            required: true
          bodyText:
            column: coi_text
            required: true
          publisher:
            column: coi_journal_name
          date:
            column: coi_published_at
          parent:
            column: coi_article_id
            required: true
          author:
            column: coi_authors
            split: ","
          notes:
            column: coi_flag
          indexText:
            column: coi_index_text
      coi_reference:
        schema: Documentation
        key_literal: article-coistatement
        keys:
          - coi_article_id
          - coi_id
        properties:
          document:
            column: coi_article_id
            required: true
          entity:
            column: coi_id
            required: true
          role:
            column: coi_role
          summary:
            column: coi_text
            required: true
          date:
            column: coi_published_at
          publisher:
            column: coi_journal_name
          indexText:
            column: coi_index_text
      coi_authorship:  # includes individual coi in summary and flag in indexText
        schema: Documentation
        key_literal: author-coistatement
        keys:
          - coi_author_id
          - coi_id
        properties:
          document:
            column: coi_id
            required: true
          entity:
            column: coi_author_id
            required: true
          summary:
            column: coi_text
            required: true
          role:
            column: coi_role
          date:
            column: coi_published_at
          publisher:
            column: coi_journal_name
          indexText:
            column: coi_index_text
      ## ACKNOWLEDGEMENT STATEMENT
      ack_statement:
        schema: PlainText
        id_column: ack_id
        properties:
          title:
            column: ack_title
            required: true
          bodyText:
            column: ack_text
            required: true
          publisher:
            column: ack_journal_name
          date:
            column: ack_published_at
          parent:
            column: ack_article_id
            required: true
          author:
            column: ack_authors
            split: ","
      ack_reference:
        schema: Documentation
        key_literal: article-ackstatement
        keys:
          - ack_article_id
          - ack_id
        properties:
          document:
            column: ack_article_id
            required: true
          entity:
            column: ack_id
            required: true
          role:
            column: ack_role
          summary:
            column: ack_text
            required: true
          date:
            column: ack_published_at
          publisher:
            column: ack_journal_name
      ack_authorship: # includes individual ack in summary
        schema: Documentation
        key_literal: author-ackstatement
        keys:
          - ack_author_id
          - ack_id
        properties:
          document:
            column: ack_id
            required: true
          entity:
            column: ack_author_id
            required: true
          summary:
            column: ack_text
            required: true
          role:
            column: ack_role
          date:
            column: ack_published_at
          publisher:
            column: ack_journal_name
